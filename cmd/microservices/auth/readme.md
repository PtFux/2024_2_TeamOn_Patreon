## Сервис регистрации и аутентификации
Аутентификация с помощью JWT-токена.

[Swagger](https://github.com/go-park-mail-ru/2024_2_TeamOn_Patreon/blob/polina-auth/docs/api/openapi.yaml)

#### Статус сервиса
Есть две ручки - регистрации и авторизации.
- регистрация - валидирует данные, возвращает 200, если ок, иначе - 400 
- авторизация - валидирует данные, возвращает 200, если ок, иначе - 400
- 
#### Запуск
```bash
go run main.go
```

_Предварительно необходимо настроить пакеты и обновить зависимости_
- обращаем внимание на название проекта в `go.mod` там должен быть путь до актуального проекта, как ссылка с гита (без https)
Например:
```
module github.com/go-park-mail-ru/2024_2_TeamOn_Patreon/tree/main
```
- также необходимо проверить, что во всех импортах во всех модулях эта ссылка корректна (если исправляли)
- также должны быть либы описанные в `go.mod`
- также версия go должна совпадать


### Структура
- `cmd/microservices/auth`:
  - `main.go` - файл запуска сервиса
  - `api/routers.go` - файл с созданием роутера // пути и обработчики можно найти там

- `internal/auth`:
  - `api` - "_уровень представлений_": ручки, роутинг
    - `api/test` - быстрый тест на доступность, не судите строго
    - `api/models` - фронтовые модели
  - `behavior` - "_бизнес-логика_", логика авторизации
  - `utils` - утилиты
    - `utils/logging.go` - оболочка хэндлера для логирования
  - `errors` - используемые ошибки


### TODO:
- services
  - [ ] добавить модуль работы с JWT
  - [ ] выбрать способ хэширования
  - [ ] сделать регистрацию
  - [ ] сделать аутентификацию

- storage
  - [ ] добавтить интерфейс взаимодействия с бд
  - [ ] интегрировать по интерфейсу заглушку

- transport
  - [x] сделать валидацию данных
  - [x] парсинг данных из тела запроса

### Политика
__Требования к валидации данных__ - [тут](https://github.com/go-park-mail-ru/2024_2_TeamOn_Patreon/blob/polina-auth/docs/%D0%BF%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%20%D0%B0%D1%83%D1%82%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D1%82%D0%BA%D0%B0%D1%86%D0%B8%D0%B8.md)

- [ ] дописать политику
  - процесс регистрации
  - процесс аутентификации
  - структура токена

___
by `PtFux`

#### Ресурсы:
- логгирование с `slog` - [тут](https://habr.com/ru/companies/slurm/articles/798207/)
- роутинг с `gorilla/mux` - [тут](https://habr.com/ru/companies/ruvds/articles/561108/)
